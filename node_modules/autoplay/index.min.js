!function(){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj};!function(root,factory){"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?exports=module.exports=factory(root,document):"function"==typeof define&&define.amd?define("autoplay",factory):root.autoplay=factory(root,document)}("undefined"==typeof window?void 0:window,function(window,document){function autoplay(){function createPlayer(info){var player=new YT.Player(info.id,{videoId:info.videoId,events:{onReady:onPlayerReady,onError:onPlayerError}});return player}function onPlayerReady(event){console.info("onPlayerReady")}function onPlayerError(eventError){console.error("onPlayerError:",eventError)}function applyPlayer(){var targets=Array.from(document.querySelectorAll("[data-you-play]"));targets.map(function(item){var id=item.id,videoId=item.getAttribute("data-video-id"),player=createPlayer({id:id,videoId:videoId});watchClick("play",item,function(playTarget){playTarget.onclick=function(){player.playVideo()}}),watchClick("pause",item,function(pauseTarget){pauseTarget.onclick=function(){player.pauseVideo()}}),watchClick("stop",item,function(stopTarget){stopTarget.onclick=function(){player.stopVideo()}})})}function watchClick(event,item,callback){var eventTarget=item.getAttribute("data-you-"+event);eventTarget=document.querySelector(eventTarget),callback&&callback(eventTarget)}function createScriptElement(){var firstScriptTag=void 0,tag=document.createElement("script");tag.src="http://www.youtube.com/player_api",firstScriptTag=document.getElementsByTagName("script")[0],firstScriptTag.parentNode.insertBefore(tag,firstScriptTag)}return{applyPlayer:applyPlayer,createScriptElement:createScriptElement}}window.onYouTubeIframeAPIReady=function(){autoplay().applyPlayer()},autoplay().createScriptElement()})}();